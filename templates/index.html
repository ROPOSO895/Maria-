<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>J.A.R.V.I.S</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --primary: #c8820a;
    --primary-dim: rgba(200,120,10,0.25);
    --primary-glow: rgba(200,120,10,0.5);
    --bg: #050300;
    --panel: rgba(20,10,2,0.9);
    --text: #f0d9a0;
    --text-dim: #e8c880;
    --border: rgba(200,120,20,0.25);
  }
  body.theme-blue {
    --primary: #00d4ff;
    --primary-dim: rgba(0,212,255,0.2);
    --primary-glow: rgba(0,212,255,0.5);
    --bg: #000811;
    --panel: rgba(0,20,45,0.9);
    --text: #c8f0ff;
    --text-dim: #a0d8f0;
    --border: rgba(0,212,255,0.25);
  }
  body.theme-red {
    --primary: #ff2244;
    --primary-dim: rgba(255,30,60,0.2);
    --primary-glow: rgba(255,30,60,0.5);
    --bg: #080002;
    --panel: rgba(25,2,5,0.9);
    --text: #ffd0d8;
    --text-dim: #ffaab8;
    --border: rgba(255,30,60,0.25);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Exo 2', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
    transition: background 0.5s, color 0.5s;
  }

  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image:
      linear-gradient(rgba(200,150,50,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(200,150,50,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none; z-index: 0;
  }

  .app {
    position: relative; z-index: 1;
    max-width: 700px; margin: 0 auto;
    padding: 20px;
    display: flex; flex-direction: column;
    min-height: 100vh;
  }

  /* ===== TOP BAR ===== */
  .top-bar {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 10px;
  }

  /* DATE TIME WIDGET */
  .datetime-widget {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 6px 12px;
    font-family: 'Orbitron', monospace;
    font-size: 0.6rem;
    color: var(--primary);
    line-height: 1.6;
    box-shadow: 0 0 10px var(--primary-dim);
  }
  .datetime-widget .time { font-size: 1rem; font-weight: 700; letter-spacing: 0.1em; }
  .datetime-widget .date { opacity: 0.6; font-size: 0.55rem; letter-spacing: 0.15em; }

  /* BATTERY & NETWORK */
  .system-info {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 6px 12px;
    font-family: 'Orbitron', monospace;
    font-size: 0.55rem;
    color: var(--primary);
    text-align: right;
    line-height: 1.6;
    box-shadow: 0 0 10px var(--primary-dim);
  }

  /* THEME SWITCHER */
  .theme-bar {
    display: flex; justify-content: center; gap: 8px; margin-bottom: 10px;
  }
  .theme-btn {
    width: 28px; height: 28px; border-radius: 50%;
    border: 2px solid transparent;
    cursor: pointer; transition: all 0.3s;
    position: relative;
  }
  .theme-btn.gold  { background: radial-gradient(circle, #ffcc00, #c8820a); }
  .theme-btn.blue  { background: radial-gradient(circle, #00eeff, #0066aa); }
  .theme-btn.red   { background: radial-gradient(circle, #ff6688, #cc0022); }
  .theme-btn.active { border-color: white; box-shadow: 0 0 10px white; transform: scale(1.2); }
  .theme-btn:hover  { transform: scale(1.1); }

  /* FULLSCREEN BTN */
  .fullscreen-btn {
    position: fixed; top: 14px; right: 14px; z-index: 999;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 6px 10px;
    color: var(--primary);
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 0 10px var(--primary-dim);
  }
  .fullscreen-btn:hover { box-shadow: 0 0 15px var(--primary-glow); }

  /* HEADER */
  .header { text-align: center; padding: 10px 0 12px; }

  .jarvis-globe {
    position: relative; width: 170px; height: 170px;
    margin: 0 auto 14px;
  }
  .globe-glow {
    position: absolute; inset: -20px; border-radius: 50%;
    background: radial-gradient(circle, rgba(255,120,0,0.15) 0%, transparent 70%);
    animation: glow-pulse 2.5s ease-in-out infinite;
  }
  @keyframes glow-pulse { 0%,100%{transform:scale(1);opacity:0.6} 50%{transform:scale(1.15);opacity:1} }

  .sphere {
    position: absolute; inset: 0; border-radius: 50%;
    background: radial-gradient(circle at 40% 35%,
      rgba(255,200,50,0.9) 0%, rgba(255,120,0,0.7) 25%,
      rgba(180,60,0,0.5) 50%, rgba(80,20,0,0.3) 70%, transparent 90%);
    box-shadow: 0 0 40px rgba(255,120,0,0.6), 0 0 80px rgba(255,80,0,0.3),
      inset 0 0 30px rgba(255,150,0,0.2);
    animation: sphere-pulse 3s ease-in-out infinite;
  }
  @keyframes sphere-pulse {
    0%,100%{box-shadow:0 0 40px rgba(255,120,0,0.6),0 0 80px rgba(255,80,0,0.3)}
    50%{box-shadow:0 0 60px rgba(255,150,0,0.9),0 0 120px rgba(255,80,0,0.5)}
  }

  .orbit { position:absolute; border-radius:50%; border:1px solid transparent; animation:spin linear infinite; }
  .orbit-1 { inset:10px; border-top-color:rgba(255,200,50,0.9); border-right-color:rgba(255,160,30,0.5); animation-duration:4s; }
  .orbit-2 { inset:25px; border-right-color:rgba(255,180,0,0.8); animation-duration:3s; animation-direction:reverse; }
  .orbit-3 { inset:40px; border-bottom-color:rgba(255,140,0,0.7); animation-duration:5s; }
  .orbit-4 { inset:55px; border-left-color:rgba(255,120,0,0.6); animation-duration:2.5s; animation-direction:reverse; }
  @keyframes spin { to { transform: rotate(360deg); } }

  .sparks { position:absolute; inset:0; border-radius:50%; overflow:hidden; }
  .spark { position:absolute; width:2px; height:2px; border-radius:50%; background:#ffdd00; box-shadow:0 0 4px #ff8800; animation:float-spark linear infinite; }
  .spark:nth-child(1){top:20%;left:60%;animation-duration:3s}
  .spark:nth-child(2){top:70%;left:30%;animation-duration:4s;animation-delay:.5s}
  .spark:nth-child(3){top:40%;left:80%;animation-duration:2.5s;animation-delay:1s}
  .spark:nth-child(4){top:80%;left:60%;animation-duration:3.5s;animation-delay:.3s}
  .spark:nth-child(5){top:30%;left:20%;animation-duration:4.5s;animation-delay:.8s}
  .spark:nth-child(6){top:60%;left:75%;animation-duration:2s;animation-delay:1.5s}
  .spark:nth-child(7){top:15%;left:45%;animation-duration:3.2s;animation-delay:.2s}
  .spark:nth-child(8){top:85%;left:40%;animation-duration:2.8s;animation-delay:.9s}
  @keyframes float-spark { 0%{transform:translateY(0) scale(1);opacity:1} 100%{transform:translateY(-30px) scale(0);opacity:0} }

  .core-bright {
    position:absolute; top:50%; left:50%;
    transform:translate(-50%,-50%);
    width:28px; height:28px; border-radius:50%;
    background:radial-gradient(circle,#fff 0%,#ffee00 30%,#ff8800 60%,transparent 80%);
    box-shadow:0 0 20px #ffcc00,0 0 40px #ff8800;
    animation:core-flicker 1.5s ease-in-out infinite;
  }
  @keyframes core-flicker {
    0%,100%{transform:translate(-50%,-50%) scale(1)}
    50%{transform:translate(-50%,-50%) scale(1.2)}
  }

  .title {
    font-family:'Orbitron',monospace;
    font-size:clamp(1.8rem,6vw,3rem); font-weight:900;
    color:var(--primary); letter-spacing:0.3em;
    animation:title-glow 3s ease-in-out infinite;
  }
  @keyframes title-glow {
    0%,100%{text-shadow:0 0 20px var(--primary-dim)}
    50%{text-shadow:0 0 40px var(--primary),0 0 70px var(--primary-dim)}
  }

  .subtitle {
    font-family:'Orbitron',monospace; font-size:0.52rem;
    letter-spacing:0.35em; color:var(--border); margin:4px 0 6px;
  }

  .status {
    display:flex; justify-content:center; gap:16px;
    font-family:'Orbitron',monospace; font-size:0.6rem; color:var(--primary); opacity:0.6;
  }
  .dot {
    display:inline-block; width:6px; height:6px; border-radius:50%;
    background:var(--primary); box-shadow:0 0 6px var(--primary);
    animation:blink-dot 2s infinite; vertical-align:middle; margin-right:4px;
  }
  @keyframes blink-dot{0%,100%{opacity:1}50%{opacity:0.2}}

  .wave{display:flex;align-items:center;justify-content:center;gap:3px;height:26px;margin:6px 0}
  .wb{width:3px;border-radius:3px;background:var(--primary);height:4px;opacity:0.25;animation:wv 1.2s ease-in-out infinite}
  .wb.on{opacity:1}
  .wb:nth-child(1){animation-delay:0s}.wb:nth-child(2){animation-delay:.1s}.wb:nth-child(3){animation-delay:.2s}
  .wb:nth-child(4){animation-delay:.3s}.wb:nth-child(5){animation-delay:.4s}.wb:nth-child(6){animation-delay:.3s}
  .wb:nth-child(7){animation-delay:.2s}.wb:nth-child(8){animation-delay:.1s}.wb:nth-child(9){animation-delay:0s}
  @keyframes wv{0%,100%{height:4px}50%{height:24px}}

  /* PANEL */
  .panel {
    background:var(--panel); border:1px solid var(--border);
    border-radius:16px; backdrop-filter:blur(20px);
    box-shadow:0 0 30px var(--primary-dim);
    position:relative; overflow:hidden;
    flex:1; display:flex; flex-direction:column;
    transition:all 0.5s;
  }
  .panel::before {
    content:''; position:absolute; top:0; left:0; right:0; height:1px;
    background:linear-gradient(90deg,transparent,var(--primary),transparent);
  }
  .corner{position:absolute;width:18px;height:18px;border-color:var(--primary);border-style:solid;opacity:0.4}
  .tl{top:7px;left:7px;border-width:2px 0 0 2px}
  .tr{top:7px;right:7px;border-width:2px 2px 0 0}
  .bl{bottom:7px;left:7px;border-width:0 0 2px 2px}
  .br{bottom:7px;right:7px;border-width:0 2px 2px 0}

  /* CHAT */
  .chat{flex:1;overflow-y:auto;padding:16px;min-height:250px;max-height:380px;scroll-behavior:smooth}
  .chat::-webkit-scrollbar{width:3px}
  .chat::-webkit-scrollbar-thumb{background:var(--primary-dim);border-radius:3px}

  .welcome{text-align:center;padding:30px 20px;font-family:'Orbitron',monospace;font-size:0.68rem;letter-spacing:0.1em;color:var(--border);line-height:2.2}

  .msg{margin-bottom:16px;animation:fadein 0.4s ease-out}
  @keyframes fadein{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

  .msg-lbl{font-family:'Orbitron',monospace;font-size:0.5rem;letter-spacing:0.2em;opacity:0.55;margin-bottom:5px}
  .msg.user .msg-lbl{color:var(--primary);text-align:right}
  .msg.bot  .msg-lbl{color:var(--primary)}

  .bubble{padding:11px 15px;border-radius:12px;line-height:1.65;font-size:0.88rem;max-width:88%;position:relative}
  .msg.user .bubble{background:var(--primary-dim);border:1px solid var(--border);margin-left:auto;border-bottom-right-radius:3px;color:var(--text)}
  .msg.bot  .bubble{background:rgba(0,0,0,0.5);border:1px solid var(--border);border-bottom-left-radius:3px;color:var(--text-dim)}

  /* COPY BUTTON */
  .copy-btn {
    position:absolute; top:6px; right:6px;
    background:transparent; border:1px solid var(--border);
    border-radius:5px; color:var(--primary);
    font-size:0.6rem; padding:2px 6px;
    cursor:pointer; opacity:0; transition:all 0.2s;
    font-family:'Orbitron',monospace;
  }
  .bubble:hover .copy-btn { opacity:1; }
  .copy-btn:hover { background:var(--primary-dim); }
  .copy-btn.copied { color:#00ff88; border-color:#00ff88; }

  .typing{display:none;gap:5px;padding:11px 15px;width:fit-content;background:rgba(0,0,0,0.5);border:1px solid var(--border);border-radius:12px;border-bottom-left-radius:3px;margin-bottom:10px}
  .td{width:6px;height:6px;border-radius:50%;background:var(--primary);animation:td 1.2s infinite}
  .td:nth-child(2){animation-delay:.2s}.td:nth-child(3){animation-delay:.4s}
  @keyframes td{0%,100%{opacity:.3;transform:translateY(0)}50%{opacity:1;transform:translateY(-4px)}}

  /* INPUT */
  .input-row{display:flex;gap:8px;padding:12px 14px;border-top:1px solid var(--border)}
  #msg{flex:1;padding:11px 14px;background:rgba(0,0,0,0.6);border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:'Exo 2',sans-serif;font-size:0.93rem;outline:none;resize:none;transition:all 0.3s}
  #msg:focus{border-color:var(--primary);box-shadow:0 0 12px var(--primary-dim)}
  #msg::placeholder{color:var(--border)}

  #send{padding:11px 18px;background:var(--primary-dim);border:1px solid var(--primary);border-radius:10px;color:var(--primary);font-family:'Orbitron',monospace;font-size:0.68rem;letter-spacing:0.1em;cursor:pointer;transition:all 0.3s;box-shadow:0 0 10px var(--primary-dim)}
  #send:hover:not(:disabled){box-shadow:0 0 22px var(--primary-glow);transform:translateY(-1px)}
  #send:disabled{opacity:0.35;cursor:not-allowed}

  .clear-btn{display:block;width:100%;padding:7px;background:transparent;border:none;border-top:1px solid var(--border);color:var(--border);font-family:'Orbitron',monospace;font-size:0.52rem;letter-spacing:0.15em;cursor:pointer;transition:color 0.3s}
  .clear-btn:hover{color:rgba(255,60,60,0.7)}

  /* TOAST */
  .toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%) translateY(20px);background:var(--panel);border:1px solid var(--primary);border-radius:10px;padding:10px 20px;font-family:'Orbitron',monospace;font-size:0.65rem;color:var(--primary);opacity:0;transition:all 0.3s;z-index:999;pointer-events:none}
  .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
</style>
</head>
<body class="theme-gold">

<button class="fullscreen-btn" onclick="toggleFullscreen()" title="Fullscreen">â›¶</button>
<div class="toast" id="toast"></div>

<div class="app">

  <!-- TOP BAR -->
  <div class="top-bar">
    <div class="datetime-widget">
      <div class="time" id="clock">00:00:00</div>
      <div class="date" id="date-display">MON, 01 JAN 2026</div>
    </div>
    <div class="system-info">
      <div id="battery-info">ðŸ”‹ ---%</div>
      <div id="network-info">ðŸ“¶ ONLINE</div>
    </div>
  </div>

  <!-- THEME SWITCHER -->
  <div class="theme-bar">
    <button class="theme-btn gold active" onclick="setTheme('gold', this)" title="Gold"></button>
    <button class="theme-btn blue" onclick="setTheme('blue', this)" title="Blue"></button>
    <button class="theme-btn red"  onclick="setTheme('red', this)"  title="Red"></button>
  </div>

  <!-- HEADER -->
  <div class="header">
    <div class="jarvis-globe">
      <div class="globe-glow"></div>
      <div class="sphere"></div>
      <div class="orbit orbit-1"></div>
      <div class="orbit orbit-2"></div>
      <div class="orbit orbit-3"></div>
      <div class="orbit orbit-4"></div>
      <div class="sparks">
        <div class="spark"></div><div class="spark"></div><div class="spark"></div>
        <div class="spark"></div><div class="spark"></div><div class="spark"></div>
        <div class="spark"></div><div class="spark"></div>
      </div>
      <div class="core-bright"></div>
    </div>
    <div class="title">J.A.R.V.I.S</div>
    <div class="subtitle">JUST A RATHER VERY INTELLIGENT SYSTEM</div>
    <div class="status"><span><span class="dot"></span>ONLINE</span></div>
    <div class="wave">
      <div class="wb"></div><div class="wb"></div><div class="wb"></div>
      <div class="wb"></div><div class="wb"></div><div class="wb"></div>
      <div class="wb"></div><div class="wb"></div><div class="wb"></div>
    </div>
  </div>

  <!-- PANEL -->
  <div class="panel">
    <div class="corner tl"></div><div class="corner tr"></div>
    <div class="corner bl"></div><div class="corner br"></div>

    <div class="chat" id="chat">
      <div class="welcome" id="welcome">
        â–¸ JARVIS ONLINE<br>â–¸ ALL SYSTEMS NOMINAL<br>â–¸ AWAITING YOUR COMMAND, SIR
      </div>
      <div class="typing" id="typing">
        <div class="td"></div><div class="td"></div><div class="td"></div>
      </div>
    </div>

    <div class="input-row">
      <textarea id="msg" rows="1" placeholder="Speak your command, Sir..."></textarea>
      <button id="send" onclick="sendMsg()">EXECUTE</button>
    </div>
    <button class="clear-btn" onclick="clearChat()">â–¸ CLEAR MEMORY</button>
  </div>
</div>

<script>
  // ===== CLOCK & DATE =====
  function updateClock() {
    const now = new Date();
    document.getElementById('clock').textContent =
      now.toLocaleTimeString('en-US', {hour12: false});
    const days = ['SUN','MON','TUE','WED','THU','FRI','SAT'];
    const months = ['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC'];
    document.getElementById('date-display').textContent =
      `${days[now.getDay()]}, ${String(now.getDate()).padStart(2,'0')} ${months[now.getMonth()]} ${now.getFullYear()}`;
  }
  setInterval(updateClock, 1000);
  updateClock();

  // ===== BATTERY =====
  if (navigator.getBattery) {
    navigator.getBattery().then(b => {
      function updateBattery() {
        const pct = Math.round(b.level * 100);
        const icon = b.charging ? 'âš¡' : (pct > 60 ? 'ðŸ”‹' : pct > 20 ? 'ðŸª«' : 'â—');
        document.getElementById('battery-info').textContent = `${icon} ${pct}%`;
      }
      updateBattery();
      b.addEventListener('levelchange', updateBattery);
      b.addEventListener('chargingchange', updateBattery);
    });
  }

  // ===== NETWORK =====
  function updateNetwork() {
    document.getElementById('network-info').textContent =
      navigator.onLine ? 'ðŸ“¶ ONLINE' : 'ðŸ“µ OFFLINE';
  }
  window.addEventListener('online', updateNetwork);
  window.addEventListener('offline', updateNetwork);
  updateNetwork();

  // ===== THEME =====
  function setTheme(theme, btn) {
    document.body.className = theme === 'gold' ? '' : `theme-${theme}`;
    document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    localStorage.setItem('jarvis-theme', theme);
    showToast(`THEME: ${theme.toUpperCase()} ACTIVATED`);
  }

  // Load saved theme
  const savedTheme = localStorage.getItem('jarvis-theme') || 'gold';
  if (savedTheme !== 'gold') {
    document.body.className = `theme-${savedTheme}`;
    document.querySelectorAll('.theme-btn').forEach(b => {
      b.classList.toggle('active', b.classList.contains(savedTheme));
    });
  }

  // ===== FULLSCREEN =====
  function toggleFullscreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
      document.querySelector('.fullscreen-btn').textContent = 'âœ•';
    } else {
      document.exitFullscreen();
      document.querySelector('.fullscreen-btn').textContent = 'â›¶';
    }
  }

  // ===== SOUND EFFECTS =====
  const AudioCtx = window.AudioContext || window.webkitAudioContext;
  function playBeep(freq=880, dur=0.08, vol=0.1) {
    try {
      const ctx = new AudioCtx();
      const o = ctx.createOscillator();
      const g = ctx.createGain();
      o.connect(g); g.connect(ctx.destination);
      o.frequency.value = freq;
      o.type = 'sine';
      g.gain.setValueAtTime(vol, ctx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + dur);
      o.start(); o.stop(ctx.currentTime + dur);
    } catch(e) {}
  }
  function playTypingSound() { playBeep(1200, 0.05, 0.05); }
  function playSendSound()   { playBeep(660, 0.15, 0.12); }
  function playReplySound()  { playBeep(440, 0.2, 0.1); setTimeout(()=>playBeep(550,0.2,0.1),150); }

  // ===== TOAST =====
  function showToast(msg) {
    const t = document.getElementById('toast');
    t.textContent = msg; t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 2000);
  }

  // ===== COPY BUTTON =====
  function copyText(btn, text) {
    navigator.clipboard.writeText(text).then(() => {
      btn.textContent = 'âœ“';
      btn.classList.add('copied');
      showToast('COPIED TO CLIPBOARD');
      setTimeout(() => { btn.textContent = 'COPY'; btn.classList.remove('copied'); }, 2000);
    });
  }

  // ===== CHAT =====
  function addMsg(role, text) {
    document.getElementById('welcome')?.remove();
    const chat = document.getElementById('chat');
    const typing = document.getElementById('typing');
    const div = document.createElement('div');
    div.className = `msg ${role}`;
    const copyBtn = role === 'bot'
      ? `<button class="copy-btn" onclick="copyText(this, \`${text.replace(/`/g,'\\`')}\`)">COPY<
